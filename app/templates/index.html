<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LendWise AI | Smart Loan Application</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    
    <style>
        /* Fallback background if style.css is still loading */
        body {
            background: radial-gradient(circle at top right, #1a2a6c, #b21f1f, #fdbb2d);
            background-attachment: fixed;
            min-height: 100vh;
            display: flex;
            align-items: center;
            color: white;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        .step { display: none; }
        .step.active { display: block; }
        .progress { height: 10px; background: rgba(255,255,255,0.1); border-radius: 20px; margin-bottom: 30px; }
        .progress-bar { background: linear-gradient(90deg, #00d2ff, #3a7bd5); transition: width 0.4s ease; }
    </style>
</head>
<body>

    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-6">
                <div class="wizard-card animate__animated animate__fadeIn">
                    <div class="text-center mb-4">
                        <h2 class="fw-bold">LendWise AI</h2>
                        <p class="text-white-50">Intelligent Credit Risk Assessment</p>
                    </div>

                    <div class="progress">
                        <div id="progress-bar" class="progress-bar" role="progressbar" style="width: 33%"></div>
                    </div>

                    <form id="loanForm" action="/predict" method="POST">
                        
                        <div class="step active animate__animated animate__fadeInRight" id="step1">
                            <h4 class="mb-4 text-info">Step 1: Personal Profile</h4>
                            <div class="mb-3">
                                <label class="form-label">Gender</label>
                                <select name="Gender" class="form-select">
                                    <option value="Male">Male</option>
                                    <option value="Female">Female</option>
                                </select>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Marital Status</label>
                                <select name="Married" class="form-select">
                                    <option value="No">Single</option>
                                    <option value="Yes">Married</option>
                                </select>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Dependents</label>
                                <select name="Dependents" class="form-select">
                                    <option value="0">None (0)</option>
                                    <option value="1">1</option>
                                    <option value="2">2</option>
                                    <option value="3+">3 or more</option>
                                </select>
                            </div>
                            <button type="button" class="btn btn-glow btn-primary w-100 py-3 mt-3" onclick="nextStep(2)">CONTINUE TO FINANCIALS</button>
                        </div>

                        <div class="step animate__animated animate__fadeInRight" id="step2">
                            <h4 class="mb-4 text-info">Step 2: Financial Capacity</h4>
                            <div class="mb-3">
                                <label class="form-label">Applicant Monthly Income ($)</label>
                                <input type="number" name="ApplicantIncome" class="form-control" placeholder="e.g., 5000" required>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Co-Applicant Income ($)</label>
                                <input type="number" name="CoapplicantIncome" class="form-control" placeholder="e.g., 2000" value="0">
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Employment</label>
                                <select name="Self_Employed" class="form-select">
                                    <option value="No">Salaried</option>
                                    <option value="Yes">Self-Employed / Freelance</option>
                                </select>
                            </div>
                            <div class="d-flex gap-2 mt-3">
                                <button type="button" class="btn btn-outline-light w-50" onclick="nextStep(1)">BACK</button>
                                <button type="button" class="btn btn-glow btn-primary w-50" onclick="nextStep(3)">LAST STEP</button>
                            </div>
                        </div>

                        <div class="step animate__animated animate__fadeInRight" id="step3">
                            <h4 class="mb-4 text-info">Step 3: Loan Requirement</h4>
                            <div class="mb-3">
                                <label class="form-label">Requested Loan Amount ($ in thousands)</label>
                                <input type="number" name="LoanAmount" class="form-control" placeholder="e.g., 150" required>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Loan Term (In Months)</label>
                                <select name="Loan_Amount_Term" class="form-select">
                                    <option value="360">360 (30 Years)</option>
                                    <option value="180">180 (15 Years)</option>
                                    <option value="120">120 (10 Years)</option>
                                </select>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Credit History Status</label>
                                <select name="Credit_History" class="form-select">
                                    <option value="1.0">Good (Paid previous debts)</option>
                                    <option value="0.0">Poor (Has outstanding debts)</option>
                                </select>
                            </div>
                            <div class="d-flex gap-2 mt-3">
                                <button type="button" class="btn btn-outline-light w-50" onclick="nextStep(2)">BACK</button>
                                <button type="submit" class="btn btn-glow btn-success w-50">ANALYZE NOW</button>
                            </div>
                        </div>

                    </form>
                </div> </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <script src="{{ url_for('static', filename='js/wizard.js') }}"></script>

</body>
</html>